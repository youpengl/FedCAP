import os
import numpy as np

file_list = ['cifar10_pat_FedCAP1_A5_0.3_bz10_lr0.01_gr100_ep5_jr1.0_nc20_seed0_lamda0.1_alpha10_phi0.3_normT10.npz', 'cifar10_pat_FedCAP1_A6_0.3_bz10_lr0.01_gr100_ep5_jr1.0_nc20_seed0_lamda0.1_alpha10_phi0.3_normT10.npz', 'cifar10_pat_FedCAP1_A7_0.3_bz10_lr0.01_gr100_ep5_jr1.0_nc20_seed0_lamda0.1_alpha10_phi0.3_normT10.npz', 'cifar10_pat_FedCAP1_A8_0.3_bz10_lr0.01_gr100_ep5_jr1.0_nc20_seed0_lamda0.1_alpha10_phi0.3_normT10.npz', 'cifar10_pat_FedCAP1_B_0.0_bz10_lr0.01_gr100_ep5_jr1.0_nc20_seed0_lamda0.1_alpha10_phi0.3_normT10.npz', 'cifar10_pat_FedCAP2_A5_0.3_bz10_lr0.01_gr100_ep5_jr1.0_nc20_seed0_lamda0.1_alpha10_phi0.3_normT10.npz', 'cifar10_pat_FedCAP2_A6_0.3_bz10_lr0.01_gr100_ep5_jr1.0_nc20_seed0_lamda0.1_alpha10_phi0.3_normT10.npz', 'cifar10_pat_FedCAP2_A7_0.3_bz10_lr0.01_gr100_ep5_jr1.0_nc20_seed0_lamda0.1_alpha10_phi0.3_normT10.npz', 'cifar10_pat_FedCAP2_A8_0.3_bz10_lr0.01_gr100_ep5_jr1.0_nc20_seed0_lamda0.1_alpha10_phi0.3_normT10.npz', 'cifar10_pat_FedCAP2_B_0.0_bz10_lr0.01_gr100_ep5_jr1.0_nc20_seed0_lamda0.1_alpha10_phi0.3_normT10.npz', 'cifar10_pat_FedCAP3_A5_0.3_bz10_lr0.01_gr100_ep5_jr1.0_nc20_seed0_lamda0.1_alpha10_phi0.3_normT10.npz', 'cifar10_pat_FedCAP3_A6_0.3_bz10_lr0.01_gr100_ep5_jr1.0_nc20_seed0_lamda0.1_alpha10_phi0.3_normT10.npz', 'cifar10_pat_FedCAP3_A7_0.3_bz10_lr0.01_gr100_ep5_jr1.0_nc20_seed0_lamda0.1_alpha10_phi0.3_normT10.npz', 'cifar10_pat_FedCAP3_A8_0.3_bz10_lr0.01_gr100_ep5_jr1.0_nc20_seed0_lamda0.1_alpha10_phi0.3_normT10.npz', 'cifar10_pat_FedCAP3_B_0.0_bz10_lr0.01_gr100_ep5_jr1.0_nc20_seed0_lamda0.1_alpha10_phi0.3_normT10.npz', 'cifar10_pat_FedCAP4_A5_0.3_bz10_lr0.01_gr100_ep5_jr1.0_nc20_seed0_lamda0.1_alpha10_phi0.3_normT10.npz', 'cifar10_pat_FedCAP4_A6_0.3_bz10_lr0.01_gr100_ep5_jr1.0_nc20_seed0_lamda0.1_alpha10_phi0.3_normT10.npz', 'cifar10_pat_FedCAP4_A7_0.3_bz10_lr0.01_gr100_ep5_jr1.0_nc20_seed0_lamda0.1_alpha10_phi0.3_normT10.npz', 'cifar10_pat_FedCAP4_A8_0.3_bz10_lr0.01_gr100_ep5_jr1.0_nc20_seed0_lamda0.1_alpha10_phi0.3_normT10.npz', 'cifar10_pat_FedCAP4_B_0.0_bz10_lr0.01_gr100_ep5_jr1.0_nc20_seed0_lamda0.1_alpha10_phi0.3_normT10.npz', 'cifar10_pat_FedCAP_A5_0.3_bz10_lr0.01_gr100_ep5_jr1.0_nc20_seed0_lamda0.1_alpha10_phi0.3_normT10.npz', 'cifar10_pat_FedCAP_A6_0.3_bz10_lr0.01_gr100_ep5_jr1.0_nc20_seed0_lamda0.1_alpha10_phi0.3_normT10.npz', 'cifar10_pat_FedCAP_A7_0.3_bz10_lr0.01_gr100_ep5_jr1.0_nc20_seed0_lamda0.1_alpha10_phi0.3_normT10.npz', 'cifar10_pat_FedCAP_A8_0.3_bz10_lr0.01_gr100_ep5_jr1.0_nc20_seed0_lamda0.1_alpha10_phi0.3_normT10.npz', 'cifar10_pat_FedCAP_B_0.0_bz10_lr0.01_gr100_ep5_jr1.0_nc20_seed0_lamda0.1_alpha10_phi0.3_normT10.npz']
for file_name in file_list:
    file_path = os.path.join('../results/npz', file_name)
    with np.load(file_path, allow_pickle=True) as f:
        test_acc_g = f['test_acc_g'][-1]*100
        test_acc_p = f['test_acc_p'][-1]*100
        # test_acc_g = np.random.uniform(low=0, high=1, size=101)[-1]*100
        # test_acc_p = np.random.uniform(low=0, high=1, size=101)[-1]*100
        max_test_acc = max(test_acc_g, test_acc_p)
        print('Table 4 \n{}: {:.2f}'.format(file_name, max_test_acc))